{
    "Version": "2019-10-30",
    "StartAction": "00000000-0000-0000-0000-000000000001",
    "Metadata": {
        "entryPointPosition": {
            "x": 20,
            "y": 20
        },
        "snapToGrid": true,
        "ActionMetadata": {
            "00000000-0000-0000-0000-000000000001": {
                "position": {
                    "x": 200,
                    "y": 20
                }
            },
            "00000000-0000-0000-0000-000000000002": {
                "position": {
                    "x": 450,
                    "y": 20
                }
            },
            "00000000-0000-0000-0000-000000000003": {
                "position": {
                    "x": 700,
                    "y": 20
                }
            },
            "00000000-0000-0000-0000-000000000004": {
                "position": {
                    "x": 950,
                    "y": 20
                }
            },
            "00000000-0000-0000-0000-000000000005": {
                "position": {
                    "x": 1200,
                    "y": 20
                }
            },
            "00000000-0000-0000-0000-000000000006": {
                "position": {
                    "x": 1200,
                    "y": 200
                }
            },
            "00000000-0000-0000-0000-000000000007": {
                "position": {
                    "x": 700,
                    "y": 300
                }
            }
        }
    },
    "Actions": [
        {
            "Identifier": "00000000-0000-0000-0000-000000000001",
            "Type": "UpdateContactTextToSpeechVoice",
            "Parameters": {
                "Voice": "Danielle"
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000002"
            }
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000002",
            "Type": "InvokeLambdaFunction",
            "Parameters": {
                "LambdaFunctionARN": "arn:aws:lambda:us-east-1:554800146362:function:ClinicVoiceOrchestrator",
                "InvocationTimeLimitSeconds": "8"
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000003",
                "Errors": [
                    {
                        "NextAction": "00000000-0000-0000-0000-000000000006",
                        "ErrorType": "NoMatchingError"
                    }
                ]
            }
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000003",
            "Type": "CheckContactAttributes",
            "Parameters": {
                "Attribute": "endCall",
                "AttributeNamespace": "External"
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000004",
                "Conditions": [
                    {
                        "Operator": "Equals",
                        "Operands": [
                            "true"
                        ],
                        "NextAction": "00000000-0000-0000-0000-000000000005"
                    }
                ],
                "Errors": [
                    {
                        "NextAction": "00000000-0000-0000-0000-000000000004",
                        "ErrorType": "NoMatchingError"
                    }
                ]
            }
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000005",
            "Type": "MessageParticipant",
            "Parameters": {
                "Text": "$.External.responseText"
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000006"
            }
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000006",
            "Type": "DisconnectParticipant",
            "Parameters": {},
            "Transitions": {}
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000004",
            "Type": "GetUserInput",
            "Parameters": {
                "Text": "$.External.responseText",
                "Timeout": "5",
                "MaxDigits": 10,
                "BotAliasArn": "arn:aws:lex:us-east-1:554800146362:bot-alias/WOEOICM5ZJ/HY7HC25NXC"
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000007",
                "Errors": [
                    {
                        "NextAction": "00000000-0000-0000-0000-000000000007",
                        "ErrorType": "NoMatchingError"
                    }
                ]
            }
        },
        {
            "Identifier": "00000000-0000-0000-0000-000000000007",
            "Type": "InvokeLambdaFunction",
            "Parameters": {
                "LambdaFunctionARN": "arn:aws:lambda:us-east-1:554800146362:function:ClinicVoiceOrchestrator",
                "InvocationTimeLimitSeconds": "8",
                "LambdaFunctionParameters": {
                    "inputText": "$.Lex.InputTranscript"
                }
            },
            "Transitions": {
                "NextAction": "00000000-0000-0000-0000-000000000003",
                "Errors": [
                    {
                        "NextAction": "00000000-0000-0000-0000-000000000006",
                        "ErrorType": "NoMatchingError"
                    }
                ]
            }
        }
    ]
}