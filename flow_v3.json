{
  "Version": "2019-10-30",
  "StartAction": "342d5412-afe9-49ba-bf9e-30d970756a6c",
  "Metadata": {
    "entryPointPosition": {
      "x": 20,
      "y": 20
    },
    "snapToGrid": true,
    "ActionMetadata": {
      "342d5412-afe9-49ba-bf9e-30d970756a6c": {
        "position": {
          "x": 200,
          "y": 20
        }
      },
      "7cf534b6-aa94-4bb8-963c-aa78000da0a6": {
        "position": {
          "x": 450,
          "y": 20
        }
      },
      "4e474466-6ed2-4bff-9102-7b1463f78f1f": {
        "position": {
          "x": 700,
          "y": 20
        }
      },
      "d87cceba-ff63-4ba2-a472-07e07f3acd23": {
        "position": {
          "x": 950,
          "y": 20
        }
      },
      "02241263-f7a4-4b44-ab03-ab4be6cc0f1a": {
        "position": {
          "x": 1200,
          "y": 20
        }
      },
      "2d88e5c5-bb42-4a50-8649-ade2b5410434": {
        "position": {
          "x": 1450,
          "y": 20
        }
      },
      "e9184c4c-afe6-4c03-bb28-a3e199f82a18": {
        "position": {
          "x": 950,
          "y": 300
        }
      }
    }
  },
  "Actions": [
    {
      "Identifier": "342d5412-afe9-49ba-bf9e-30d970756a6c",
      "Type": "UpdateContactTextToSpeechVoice",
      "Parameters": {
        "Voice": "Danielle"
      },
      "Transitions": {
        "NextAction": "7cf534b6-aa94-4bb8-963c-aa78000da0a6"
      }
    },
    {
      "Identifier": "7cf534b6-aa94-4bb8-963c-aa78000da0a6",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "LambdaFunctionARN": "arn:aws:lambda:us-east-1:554800146362:function:ClinicVoiceOrchestrator",
        "InvocationTimeLimitSeconds": "8"
      },
      "Transitions": {
        "NextAction": "4e474466-6ed2-4bff-9102-7b1463f78f1f",
        "Errors": [
          {
            "NextAction": "2d88e5c5-bb42-4a50-8649-ade2b5410434",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Identifier": "4e474466-6ed2-4bff-9102-7b1463f78f1f",
      "Type": "CheckContactAttributes",
      "Parameters": {
        "Attribute": "endCall",
        "AttributeNamespace": "External"
      },
      "Transitions": {
        "NextAction": "d87cceba-ff63-4ba2-a472-07e07f3acd23",
        "Conditions": [
          {
            "Operator": "Equals",
            "Operands": [
              "true"
            ],
            "NextAction": "02241263-f7a4-4b44-ab03-ab4be6cc0f1a"
          }
        ],
        "Errors": [
          {
            "NextAction": "d87cceba-ff63-4ba2-a472-07e07f3acd23",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Identifier": "02241263-f7a4-4b44-ab03-ab4be6cc0f1a",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "$.External.responseText"
      },
      "Transitions": {
        "NextAction": "2d88e5c5-bb42-4a50-8649-ade2b5410434"
      }
    },
    {
      "Identifier": "2d88e5c5-bb42-4a50-8649-ade2b5410434",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "d87cceba-ff63-4ba2-a472-07e07f3acd23",
      "Type": "GetUserInput",
      "Parameters": {
        "Text": "$.External.responseText",
        "Timeout": "5",
        "MaxDigits": "1",
        "BotAliasArn": "arn:aws:lex:us-east-1:554800146362:bot-alias/WOEOICM5ZJ/HY7HC25NXC"
      },
      "Transitions": {
        "NextAction": "e9184c4c-afe6-4c03-bb28-a3e199f82a18",
        "Errors": [
          {
            "NextAction": "e9184c4c-afe6-4c03-bb28-a3e199f82a18",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "e9184c4c-afe6-4c03-bb28-a3e199f82a18",
            "ErrorType": "NoInput"
          }
        ]
      }
    },
    {
      "Identifier": "e9184c4c-afe6-4c03-bb28-a3e199f82a18",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "LambdaFunctionARN": "arn:aws:lambda:us-east-1:554800146362:function:ClinicVoiceOrchestrator",
        "InvocationTimeLimitSeconds": "8",
        "LambdaFunctionParameters": {
          "inputText": "$.Lex.InputTranscript"
        }
      },
      "Transitions": {
        "NextAction": "4e474466-6ed2-4bff-9102-7b1463f78f1f",
        "Errors": [
          {
            "NextAction": "2d88e5c5-bb42-4a50-8649-ade2b5410434",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    }
  ]
}
